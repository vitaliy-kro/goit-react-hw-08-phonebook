"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[319],{7193:function(e,n,r){r.d(n,{M:function(){return i},Y:function(){return a}});var t=r(5206),a=function(){return t.Am.error("Woops, something get wrong, try again!",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})},i=function(e){return t.Am.warning("".concat(e,"is already in contacts"),{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}},2319:function(e,n,r){r.r(n),r.d(n,{default:function(){return z}});var t=r(9434),a=r(2791),i=r(803),o="NOT_FOUND";var u=function(e,n){return e===n};function l(e,n){var r="object"===typeof n?n:{equalityCheck:n},t=r.equalityCheck,a=void 0===t?u:t,i=r.maxSize,l=void 0===i?1:i,c=r.resultEqualityCheck,s=function(e){return function(n,r){if(null===n||null===r||n.length!==r.length)return!1;for(var t=n.length,a=0;a<t;a++)if(!e(n[a],r[a]))return!1;return!0}}(a),m=1===l?function(e){var n;return{get:function(r){return n&&e(n.key,r)?n.value:o},put:function(e,r){n={key:e,value:r}},getEntries:function(){return n?[n]:[]},clear:function(){n=void 0}}}(s):function(e,n){var r=[];function t(e){var t=r.findIndex((function(r){return n(e,r.key)}));if(t>-1){var a=r[t];return t>0&&(r.splice(t,1),r.unshift(a)),a.value}return o}return{get:t,put:function(n,a){t(n)===o&&(r.unshift({key:n,value:a}),r.length>e&&r.pop())},getEntries:function(){return r},clear:function(){r=[]}}}(l,s);function f(){var n=m.get(arguments);if(n===o){if(n=e.apply(null,arguments),c){var r=m.getEntries(),t=r.find((function(e){return c(e.value,n)}));t&&(n=t.value)}m.put(arguments,n)}return n}return f.clearCache=function(){return m.clear()},f}function c(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var r=n.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+r+"]")}return n}function s(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];var a=function(){for(var n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];var i,o=0,u={memoizeOptions:void 0},l=t.pop();if("object"===typeof l&&(u=l,l=t.pop()),"function"!==typeof l)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof l+"]");var s=u,m=s.memoizeOptions,f=void 0===m?r:m,d=Array.isArray(f)?f:[f],h=c(t),p=e.apply(void 0,[function(){return o++,l.apply(null,arguments)}].concat(d)),v=e((function(){for(var e=[],n=h.length,r=0;r<n;r++)e.push(h[r].apply(null,arguments));return i=p.apply(null,e)}));return Object.assign(v,{resultFunc:l,memoizedResultFunc:p,dependencies:h,lastResult:function(){return i},recomputations:function(){return o},resetRecomputations:function(){return o=0}}),v};return a}var m=s(l),f=function(e){return e.contacts.items},d=function(e){return e.contacts.isLoading},h=function(e){return e.contacts.error},p=m([f,function(e){return e.filter.value}],(function(e,n){return e.filter((function(e){return e.name.toLowerCase().includes(n)}))})),v=r(3634),x=r(6015),g=r(4565),b=r(3329),y=function(e){var n=e.title,r=e.children;return(0,b.jsxs)(x.Z,{sx:{py:3},children:[(0,b.jsx)(g.Z,{component:"h1",variant:"h3",sx:{mb:2},children:n}),r]})},j=r(5705),C=r(2617),Z=r(7205),k=r(7103),w=k.Ry().shape({name:k.Z_().required().min(4),number:k.Z_().required().matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,"Phone number is not valid")}),O=r(7193),S=function(){var e=(0,t.I0)(),n=(0,t.v9)(f),r=(0,j.TA)({initialValues:{name:"",number:""},validationSchema:w,onSubmit:function(r,t){var a=r.name,i=r.number,o=t.resetForm,u=n.find((function(e){return e.name.toLowerCase()===a.toLowerCase()}));if(u)return(0,O.M)(u.name);e((0,v.uK)({name:a,number:i})),o()},validateOnChange:!1,validateOnBlur:!1}),a=r.errors.name,i=r.errors.number;return(0,b.jsxs)(x.Z,{component:"form",onSubmit:r.handleSubmit,sx:{display:"flex",alignItems:"baseline"},noValidate:!0,children:[(0,b.jsx)(C.Z,{error:Boolean(a),helperText:a,type:"text",name:"name",label:"Name",value:r.values.name,onChange:r.handleChange,variant:"standard",required:!0}),(0,b.jsx)(C.Z,{type:"tel",error:Boolean(i),helperText:i,sx:{ml:2},variant:"standard",label:"Number",name:"number",value:r.values.number,onChange:r.handleChange,required:!0}),(0,b.jsx)(Z.Z,{type:"submit",sx:{ml:2,px:2},children:"Add contact"})]})},A=r(885),q=r(2716),I=function(e){var n=e.id,r=e.name,i=e.number,o=(0,a.useState)(!1),u=(0,A.Z)(o,2),l=u[0],c=u[1],s=(0,t.I0)(),m=(0,j.TA)({initialValues:{name:r,number:i},validationSchema:w,onSubmit:function(e,r){var t=e.name,a=e.number,i=r.resetForm;s((0,v.mP)({id:n,name:t,number:a})),c(!1),i()},validateOnChange:!1,validateOnBlur:!1}),f=m.errors.name,d=m.errors.number;return(0,b.jsx)(x.Z,{component:"li",sx:{display:"flex",alignItems:"center",mt:1},children:(0,b.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,b.jsx)(q.Z,{}),l?(0,b.jsxs)(x.Z,{component:"form",onSubmit:m.handleSubmit,sx:{display:"flex",alignItems:"baseline"},noValidate:!0,children:[(0,b.jsx)(C.Z,{error:Boolean(f),helperText:f,type:"text",name:"name",value:m.values.name,onChange:m.handleChange,variant:"standard",size:"small",required:!0}),":",(0,b.jsx)(C.Z,{type:"tel",name:"number",error:Boolean(d),helperText:d,sx:{ml:1},value:m.values.number,onChange:m.handleChange,variant:"standard",size:"small",required:!0}),(0,b.jsx)(Z.Z,{sx:{ml:1},type:"submit",onClick:function(){return c(!0)},children:"Confirm"}),(0,b.jsx)(Z.Z,{type:"button",sx:{color:"red"},onClick:function(){return c(!1)},children:"Cancel"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(g.Z,{component:"p",variant:"p",sx:{ml:1},children:[r,":"]}),(0,b.jsx)(g.Z,{component:"p",sx:{ml:1},children:i}),(0,b.jsx)(Z.Z,{sx:{ml:1},onClick:function(){return c(!0)},children:"Edit"}),(0,b.jsx)(Z.Z,{sx:{color:"red"},onClick:function(){return s((0,v.GK)(n))},children:"Delete"})]})]})},n)},B=function(){var e=(0,t.v9)(p);return(0,b.jsx)("ul",{children:e.map((function(e){var n=e.id,r=e.name,t=e.number;return(0,b.jsx)(I,{id:n,name:r,number:t},n)}))})},E=r(4808),F=function(){var e=(0,t.I0)();return(0,b.jsx)(x.Z,{display:"flex",flexDirection:"column",width:"300px",children:(0,b.jsx)(C.Z,{name:"search",variant:"standard",label:"Find contacts by name",onChange:function(n){return e((0,E.T)(n.target.value))}})})},T=r(6090),z=function(){var e=(0,t.I0)(),n=(0,t.v9)(d),r=(0,t.v9)(h);return(0,a.useEffect)((function(){e((0,v.yF)())}),[e]),(0,b.jsxs)(i.Z,{maxWidth:"l",children:[(0,b.jsx)(y,{title:"Phonebook",children:(0,b.jsx)(S,{})}),(0,b.jsxs)(y,{title:"Contacts",children:[(0,b.jsx)(F,{}),n&&!r&&(0,b.jsx)(T.M,{})||!r&&(0,b.jsx)(B,{})]})]})}},2716:function(e,n,r){var t=r(4836);n.Z=void 0;var a=t(r(5649)),i=r(3329),o=(0,a.default)((0,i.jsx)("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"}),"Phone");n.Z=o}}]);
//# sourceMappingURL=319.0176ffb6.chunk.js.map